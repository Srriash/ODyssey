<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>ODyssey - How It Works</title>
    <meta name="description" content="How ODyssey runs analysis and compares runs, plus detailed UI controls." />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Sora:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header class="site-header">
      <nav class="nav">
        <a class="brand" href="index.html">
          <span class="logo" aria-hidden="true">
            <svg viewBox="0 0 120 48" role="img" aria-label="OD monogram">
              <defs>
                <linearGradient id="od-grad" x1="0" y1="0" x2="1" y2="1">
                  <stop offset="0%" stop-color="#0E6BA8" />
                  <stop offset="100%" stop-color="#25A18E" />
                </linearGradient>
              </defs>
              <circle cx="24" cy="24" r="18" fill="none" stroke="url(#od-grad)" stroke-width="4" />
              <path d="M56 8h10c10.5 0 19 8.5 19 19s-8.5 19-19 19H56V8z" fill="none" stroke="url(#od-grad)" stroke-width="4" />
              <path d="M60 34c6-4 12-8 18-18" fill="none" stroke="#0E6BA8" stroke-width="3" stroke-linecap="round" />
              <circle cx="84" cy="16" r="3" fill="#25A18E" />
            </svg>
          </span>
          <span class="brand-text">ODyssey</span>
        </a>
        <div class="nav-actions">
          <a class="nav-link" href="index.html">Home</a>
          <a class="nav-link" href="index.html#features">Features</a>
          <a class="nav-link" href="how-it-works.html">How It Works</a>
          <a class="nav-link" href="example.html">Example Run</a>
          <a class="nav-link" href="built.html">How It's Built</a>
          <a class="button ghost" href="https://odyssey-workbench.streamlit.app/">Launch App</a>
        </div>
      </nav>
    </header>

    <main>
      <section id="how-it-works" class="how-it-works">
        <div class="section-head">
          <p class="eyebrow">How It Works</p>
          <h2>From raw file to publishable insight in one guided flow.</h2>
          <p class="section-subhead">
            ODyssey turns each experiment into a repeatable path. Save your parsing rules, reuse
            fit windows, and compare new runs without reconfiguring the whole pipeline.
          </p>
        </div>
        <div class="subsection">
          <h3>Analysis flow</h3>
          <div class="steps">
            <article class="step">
              <span class="step-number">01</span>
              <h3>Upload a single Excel file</h3>
              <p>Select the sheet that contains your time series and confirm the time column.</p>
            </article>
            <article class="step">
              <span class="step-number">02</span>
              <h3>Map replicates and treatments</h3>
              <p>Group columns into treatments, confirm replicate names, and save the config.</p>
            </article>
            <article class="step">
              <span class="step-number">03</span>
              <h3>Confirm the growth window</h3>
              <p>Use the highlighted exponential phase or adjust the fit window manually.</p>
            </article>
            <article class="step">
              <span class="step-number">04</span>
              <h3>Run the analysis</h3>
              <p>ODyssey fits growth rates, doubling time, and area under the curve in a single run.</p>
            </article>
            <article class="step">
              <span class="step-number">05</span>
              <h3>Export a full results bundle</h3>
              <p>Download results, plots, and long-format data for reuse or sharing.</p>
            </article>
          </div>
        </div>
        <div class="subsection">
          <h3>Compare runs</h3>
          <div class="steps">
            <article class="step">
              <span class="step-number">01</span>
              <h3>Upload zip exports</h3>
              <p>Each zip should include results.csv and long_df.csv for curve overlays.</p>
            </article>
            <article class="step">
              <span class="step-number">02</span>
              <h3>Rename treatments (optional)</h3>
              <p>Standardize labels across runs so comparisons line up cleanly.</p>
            </article>
            <article class="step">
              <span class="step-number">03</span>
              <h3>Compare metrics</h3>
              <p>Use grouped bars to compare growth rate, doubling time, and AUC.</p>
            </article>
            <article class="step">
              <span class="step-number">04</span>
              <h3>Overlay growth curves</h3>
              <p>Pick runs and treatments, then toggle SD bands and tick intervals.</p>
            </article>
          </div>
        </div>
      </section>

      <section id="ui-controls" class="ui-controls">
        <div class="section-head">
          <p class="eyebrow">UI Controls</p>
          <h2>Every toggle and button, explained with context.</h2>
          <p class="section-subhead">
            A detailed walkthrough of each control, organized by the analysis flow and the
            compare-runs flow.
          </p>
        </div>
        <div class="subsection">
          <h3>Run analysis</h3>
        </div>
        <div class="control-grid">
          <div class="control-card">
            <div class="control-details">
              <h3>Upload Excel file + config (optional)</h3>
              <p>Upload a single Excel file for analysis. Optionally attach a saved config to restore sheet, column, plot, and label settings without redoing setup.</p>
              <ul>
                <li>Upload Excel file: selects the raw data source for the run.</li>
                <li>Upload config (optional): uses previous choices to rerun the same analysis in ODyssey.</li>
                <li>Informational prompt: appears until a valid file is provided.</li>
              </ul>
            </div>
          </div>
          <div class="control-card">
            <div class="control-details">
              <h3>Sheet + time + blank settings</h3>
              <p>Select the worksheet, confirm the time column and unit, then decide whether to apply blank normalization to correct baseline drift.</p>
              <ul>
                <li>Sheet selector: picks which worksheet to analyze.</li>
                <li>Time column dropdown: tells ODyssey which column defines the timeline.</li>
                <li>Time unit selector: sets minutes, hours, or hh:mm:ss parsing.</li>
                <li>Blank normalization toggle: when off, you must choose blank columns; OD values are corrected by subtracting the mean blank signal at each time point.</li>
              </ul>
            </div>
          </div>
          <div class="control-card">
            <div class="control-details">
              <h3>Replicate mapping</h3>
              <p>Group columns into treatments and assign replicates so aggregation and statistics stay consistent across plots and tables.</p>
              <ul>
                <li>Replicate column multi-select: choose the columns that belong to one treatment.</li>
                <li>Treatment name input: labels the group for plotting and reporting.</li>
                <li>Add group / clear groups: build multiple treatment sets or reset the mapping.</li>
              </ul>
            </div>
          </div>
          <div class="control-card">
            <div class="control-details">
              <h3>Preview + fit window</h3>
              <p>Inspect the preview plot, set the exponential window, and optionally compute live R<sup>2</sup> to see fit quality as you adjust.</p>
              <ul>
                <li>Fit window slider: selects the start/end time used for growth rate fitting.</li>
                <li>Live R<sup>2</sup> toggle or calculate button: updates fit stats while you drag, or waits until you confirm for faster UI.</li>
                <li>Highlighted window readout: shows the active interval on the preview plot.</li>
              </ul>
            </div>
          </div>
          <div class="control-card">
            <div class="control-details">
              <h3>AUC settings</h3>
              <p>Choose how to compute area under the curve and preview the selected window before running analysis.</p>
              <ul>
                <li>AUC unit selector: sets the output unit (OD*min or OD*hour).</li>
                <li>AUC window mode: full range, fit window, or a custom range.</li>
                <li>Custom range slider: appears when custom is selected; defines the integration bounds.</li>
              </ul>
            </div>
          </div>
          <div class="control-card">
            <div class="control-details">
              <h3>Run analysis + results</h3>
              <p>Run the analysis, view fit results with QC flags, and review metric definitions for reproducibility.</p>
              <ul>
                <li>Run analysis button: executes growth rate, doubling time, and AUC calculations.</li>
                <li>Results table: shows per-treatment results with computed metrics.</li>
                <li>QC flags column: highlights low R<sup>2</sup> or non-positive growth rates.</li>
              </ul>
            </div>
          </div>
          <div class="control-card">
            <div class="control-details">
              <h3>Growth curve plots</h3>
              <p>Choose overlay, small multiples, or compare-runs layout, and decide whether to show SD bands.</p>
              <ul>
                <li>Plot layout selector: overlay puts all treatments on one chart; small multiples creates one chart per treatment; compare runs overlays the same treatment across runs.</li>
                <li>Show SD band toggle: adds shaded variability around mean curves when replicates are available.</li>
                <li>Plot group controls: group label names the group in the UI and downloads; plot group selects which treatments are bundled together, with optional title and axis label overrides.</li>
              </ul>
            </div>
          </div>
          <div class="control-card">
            <div class="control-details">
              <h3>Custom tick intervals (plots)</h3>
              <p>Optionally set X/Y tick spacing for plot readability and ensure exports match what you see.</p>
              <ul>
                <li>Custom tick intervals toggle: reveals manual tick controls when enabled.</li>
                <li>X-axis interval input: forces fixed spacing on the time axis.</li>
                <li>Y-axis interval input: forces fixed spacing on OD values.</li>
              </ul>
            </div>
          </div>
          <div class="control-card">
            <div class="control-details">
              <h3>Downloads</h3>
              <p>Export results, config, plots, and long-format data in a single zip tailored to your needs.</p>
              <ul>
                <li>Results CSV toggle: include the table of computed metrics.</li>
                <li>Long format CSV toggle: include the long_df used for overlays and replotting.</li>
                <li>Config JSON toggle: include the saved analysis settings.</li>
                <li>Plots (HTML) toggle: include interactive plot exports.</li>
                <li>Build download zip: packages all selected artifacts in one file.</li>
              </ul>
            </div>
          </div>
        </div>
        <div class="subsection">
          <h3>Compare runs</h3>
        </div>
        <div class="control-grid">
          <div class="control-card">
            <div class="control-details">
              <h3>Zip upload</h3>
              <p>Upload ODyssey zip exports to compare without re-running analysis.</p>
              <ul>
                <li>Upload ODyssey zip(s): selects one or more exported bundles.</li>
                <li>Loaded runs status: confirms which runs were parsed successfully.</li>
                <li>Target time unit selector: converts all runs to a shared time unit.</li>
                <li>Consistency warning: reminds you to align units and naming across runs.</li>
              </ul>
            </div>
          </div>
          <div class="control-card">
            <div class="control-details">
              <h3>Rename treatments (optional)</h3>
              <p>Standardize labels across runs so comparisons line up cleanly, even when original names differ.</p>
              <ul>
                <li>Rename fields per treatment: input display names without changing source data.</li>
                <li>Applied to tables and plots: all comparison outputs use the renamed labels.</li>
                <li>Optional: leave blank to keep original treatment names.</li>
              </ul>
            </div>
          </div>
          <div class="control-card">
            <div class="control-details">
              <h3>Comparison table + summary</h3>
              <p>Review per-run tables and mean summaries by treatment to spot run-to-run shifts.</p>
              <ul>
                <li>Combined table: raw results from each run stacked together.</li>
                <li>Summary table: mean metrics by run and treatment.</li>
                <li>Sorted by treatment: keeps labels aligned for quick scanning.</li>
              </ul>
            </div>
          </div>
          <div class="control-card">
            <div class="control-details">
              <h3>Metric comparison (bar chart)</h3>
              <p>Compare the same treatment across runs using grouped bars for a single metric.</p>
              <ul>
                <li>Metric selector: choose growth rate, doubling time, AUC, or other numeric fields.</li>
                <li>Treatment multi-select: choose which treatments appear in the plot.</li>
                <li>Grouped bar plot: shows each run side-by-side per treatment.</li>
              </ul>
            </div>
          </div>
          <div class="control-card">
            <div class="control-details">
              <h3>Growth curve comparison</h3>
              <p>Overlay growth curves from multiple runs with optional SD bands to compare shape and timing.</p>
              <ul>
                <li>Run selector: choose which runs appear on the plot.</li>
                <li>Treatment selector: choose which treatments appear on the plot.</li>
                <li>Show SD band toggle: adds variability shading for each run if replicates exist.</li>
                <li>Download plot: exports an interactive HTML chart of the comparison.</li>
              </ul>
            </div>
          </div>
          <div class="control-card">
            <div class="control-details">
              <h3>Custom tick intervals (curves)</h3>
              <p>Control X/Y tick spacing for comparison plots before download.</p>
              <ul>
                <li>Custom tick intervals toggle: enables manual tick spacing controls.</li>
                <li>X-axis interval input: consistent time steps across runs.</li>
                <li>Y-axis interval input: consistent OD steps across runs.</li>
              </ul>
            </div>
          </div>
        </div>
      </section>
    </main>
  </body>
</html>

